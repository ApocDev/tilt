@import "constants";

.SidebarTriggerButton {
  background-position: center center;
  background-repeat: no-repeat;
  background-color: transparent;
  border: 0 none;
  height: $sidebar-item;
  width: $sidebar-item;
  display: flex;
  align-items: center;
  justify-content: center;
}

$trigger-button-color: $color-gray-light;
$trigger-button-hover-color: $color-white;
$trigger-button-active-color: $color-green;
$trigger-button-selected-color: $color-gray-dark;

.SidebarTriggerButton.isReady {
  background-color: $trigger-button-color;
  -webkit-mask: url(assets/svg/trigger-button.svg) no-repeat 50% 50%;
  mask: url(assets/svg/trigger-button.svg) no-repeat 50% 50%;

  cursor: pointer;
}

.SidebarTriggerButton.isReady:hover, .SidebarTriggerButton.isReady.isDirty:hover {
  background-color: $trigger-button-hover-color;
  animation: none;
}

.SidebarTriggerButton.isReady:active, .SidebarTriggerButton.isReady.isSelected:active{
  background-color: $trigger-button-active-color;
  animation: none;
}

.SidebarTriggerButton.isReady.isDirty{
  animation: 3s linear 0s infinite normal none running blink-unselected;
}

/* the resource containing the button is selected*/
.SidebarTriggerButton.isReady.isSelected {
  background-color: $trigger-button-selected-color;
}

.SidebarTriggerButton.isReady.isSelected:hover, .SidebarTriggerButton.isReady.isSelected.isDirty:hover {
  // I can't find a good color where the hover contrast is enough
  background-color: $color-purple;
  animation: none;
}

.SidebarTriggerButton.isReady.isSelected.isDirty{
  animation: 3s linear 0s infinite normal none running blink-selected;
}

@keyframes blink-unselected {
  0% {
    background-color: $trigger-button-color;
  }
  50% {
    background-color: $color-red;
  }
  100% {
    background-color: $trigger-button-color;
  }
}

@keyframes blink-selected{
  0% {
    background-color: $trigger-button-selected-color;
  }
  50% {
    background-color: $color-red;
  }
  100% {
    background-color: $trigger-button-selected-color;
  }
}
